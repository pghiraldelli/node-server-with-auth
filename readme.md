# Node Server with auth

This project implements a server to authenticate users throw other applications, such as Google, Facebook and Twitter.

The protocol used for authorization is called OAuth2.0 and you can find more about it [here](https://oauth.net/2/).

The dependency used to implement the OAuth2.0 protocol is [passport](http://www.passportjs.org/).

## What to do to run this project

### Set a .env file
To connect with an external application, you will need a credential generated by the application itself (in the particular sessions you will find out how to generate these keys). Once you have these keys you'll need to replace them in you .env file. A sample of how this file should be can be found at ` env.sample ` in this project root folder.

### Configure your redirection pages
You also need to configure you redirection pages once your authentication is done. In the file `/config/app.js`. For that you need to replace the successRedirect for the scenario where the user is authenticated successfully and failureRedirect for the opposite.

```
    app.get( '/auth/google/callback',
  passport.authenticate( 'google', {
      successRedirect: 'https://www.example.com',
      failureRedirect: 'https://www.example.com/fail'
}));

```

## Google authorization
To generate your Google credentials you can follow [these steps](https://developers.google.com/identity/protocols/OAuth2UserAgent).

It is important to remind you that for development purposes once you get to register your authorized redirection URIs, you need to add `http://localhost:8080/auth/google/callback`

## Applications supported
So far we have implemented:
- [Google authentication OAuth2](https://developers.google.com/adwords/api/docs/guides/authentication)

Next integrations:
- Twitter
- Facebook
- Local